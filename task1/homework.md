# Event Storming #

### Схема ###
Лежит в миро: https://miro.com/app/board/uXjVMIWi79I=/?share_link_id=805257193788

![Event Storming](Event%20Storming.jpeg)


### Мотивация ###
1. Нотификации особо никуда не подходят на ES диаграме, поэтому их опустил - кажется их хорошо заменяют Command и стрелки
2. Заметил в процессе, что Command почти всегда дублирует Event, что нагромождает схему. Под конец попробовал объединять 2 карточки в одну. Есть масли против?)
3. В биллинге сделал операции по запоминанию счетов клиента и воркера, потому что выплаты не мнгновенные, а раз в какой-то период
4. Расход на счет кинета записываю сразу после создания заказа, потому что любой заказ оплачивается полностью, независимо от статуса и качества оказания услуги
5. В биллинге позволил себе опустить платежные системы, чтобы не загромождать схему


# Модель данных #

### Схема ###
Лежит на draw.io: https://drive.google.com/file/d/1pCb3y72hTcbPOEuFUBikzgQmmqlOiG1J/view?usp=sharing

![Data Model](Data%20Model.png)


### Мотивация ###
1. Ставки оставил без модель данных, потому что в требованиях указано, что менеджеры честные и сами распределяют выигрыши
2. Скидку сделал отдельной сущностью, чтобы ее было удобнее пополнять
3. Отчеты воркеров не добавлял, потому что они на бумажном носителе
4. Не видел в уроке отношений многие ко многим, но между Клиентом и Услугой как раз такое, поэтому нарисовал двойную стрелку
5. OrderLog - записи в приложении о том, что Воркер отметился перед работой
6. Заказ назвал Order, потому что в системе здугих заказов нет)
7. Посчитал, что лучше разделить балансы клиента и воркера как сущности, потому что по ним происходят совершенно разные операции начисления и списания, а также по-разному ведется работа с платежными системами
8. Буду хранить не баланс как число, а весь лог операций с балансом для лучшей аудируемости и различных рефандов, доначислений и прочего
9. В блоке найма отразил, что лид и воркер - это разные сущности с соотношением has_one
